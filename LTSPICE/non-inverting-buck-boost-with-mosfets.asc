Version 4
SHEET 1 1616 736
WIRE -848 -384 -848 -432
WIRE -848 -240 -848 -304
WIRE -848 -80 -848 -160
WIRE 80 64 -16 64
WIRE 240 64 160 64
WIRE 320 64 240 64
WIRE 448 64 384 64
WIRE 672 64 448 64
WIRE 880 64 672 64
WIRE -176 112 -464 112
WIRE -16 112 -16 64
WIRE -16 112 -80 112
WIRE -464 192 -464 112
WIRE 672 192 672 64
WIRE 448 208 448 64
WIRE 880 208 880 64
WIRE -896 272 -896 224
WIRE -16 304 -16 112
WIRE 240 320 240 64
WIRE -896 400 -896 352
WIRE 192 400 176 400
WIRE 672 400 672 272
WIRE 880 464 880 288
WIRE -896 592 -896 480
WIRE -464 656 -464 272
WIRE -432 656 -464 656
WIRE -16 656 -16 368
WIRE -16 656 -432 656
WIRE 240 656 240 416
WIRE 240 656 -16 656
WIRE 448 656 448 272
WIRE 448 656 240 656
WIRE 672 656 672 464
WIRE 672 656 448 656
WIRE 880 656 880 544
WIRE 880 656 672 656
WIRE -432 720 -432 656
FLAG -432 720 0
FLAG 176 400 PWM-NMOS
FLAG -896 224 PWM-NMOS
FLAG -896 592 0
FLAG -848 -80 0
FLAG -848 -432 PWM-PMOS
FLAG -160 64 PWM-PMOS
SYMBOL voltage -896 384 R0
WINDOW 3 -77 118 Left 2
SYMATTR Value PULSE(0 5 0 0 0 {Ton} {T})
SYMATTR InstName V1
SYMATTR Value2 AC 5
SYMBOL ind 64 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 220µ IC=.02
SYMBOL cap 432 208 R0
SYMATTR InstName C1
SYMATTR Value {C} IC= 5
SYMBOL res 656 176 R0
SYMATTR InstName RLOAD
SYMATTR Value {R}
SYMBOL diode 320 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL voltage -464 176 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL diode 0 368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL pmos -80 64 R90
SYMATTR InstName M1
SYMATTR Value RRQ045P03
SYMBOL nmos 192 320 R0
SYMATTR InstName M2
SYMATTR Value IRLML2803
SYMBOL voltage -848 -256 R0
SYMATTR InstName V3
SYMATTR Value PULSE(5 0 0 0 0 {Ton} {T})
SYMBOL LED 656 400 R0
SYMATTR InstName D3
SYMBOL res -864 -400 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res -912 256 R0
SYMATTR InstName R2
SYMATTR Value 40
SYMBOL res 864 192 R0
SYMATTR InstName R3
SYMATTR Value 5Meg
SYMBOL res 864 448 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
TEXT -80 -112 Left 2 !.tran 0 50m \n*.AC 100k
TEXT -80 -512 Left 2 !.model SW1 SW (Ron=1u, Roff=1000Meg, Vt=2.5)
TEXT -88 -352 Left 2 !*.step param R 1k 5k 1k\n*.step param C 100n 1u 100n\n*.step param Ton 0.4u 1.4u .5u
TEXT -88 -224 Left 2 !.parameter R=500\n.parameter C=220u\n.parameter Ton = 2.5u\n.parameter T = 10u
